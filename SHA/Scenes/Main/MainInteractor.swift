//
//  MainInteractor.swift
//  SHA
//
//  Created by Ilyá Belsky on 4/25/18.
//  Copyright (c) 2018 Ilyá Belsky. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit


protocol MainBusinessLogic {
    func fetchRecords(request: Main.FetchRecords.Request)
}

protocol MainDataStore {
    //var name: String { get set }
}

class MainInteractor: MainBusinessLogic, MainDataStore {
    var presenter: MainPresentationLogic?
    var worker = RecordsWorker(recordsStore: RecordsMemStore())
    
    // MARK: - Records
    
    func fetchRecords(request: Main.FetchRecords.Request) {
        worker.fetchRecords {
            // TODO: store fetched records into internal data store for later access
            // TODO: select currentDate record and put it into repsonse
            let today = Date()
            let currentRecord = Record(date: today, full: 0, express: 0)
            let response = Main.FetchRecords.Response(record: currentRecord)
            self.presenter?.presentRecord(response: response)
        }
    }
}
